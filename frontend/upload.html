<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Upload Student Data</title><style>:root{--bg-main:#111827;--card-color:#374151;--text-primary:#f9fafb;--text-secondary:#9ca3af;--border-color:#4b5563;--brand-color:#8b5cf6;--font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}body{font-family:var(--font-family);background-color:var(--bg-main);color:var(--text-primary);margin:0;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.container{width:100%;max-width:500px;background-color:var(--card-color);padding:40px;border-radius:12px;border:1px solid var(--border-color);text-align:center}h1{margin:0 0 24px 0;font-size:24px}.upload-area{border:2px dashed var(--border-color);border-radius:8px;padding:40px 20px;cursor:pointer;transition:background-color .2s}.upload-area:hover{background-color:rgba(255,255,255,.05)}.upload-area p{margin:0;color:var(--text-secondary)}#file-input{display:none}#file-name{margin-top:16px;font-weight:500}#upload-button{width:100%;padding:12px;margin-top:24px;font-size:16px;font-weight:600;background-color:var(--brand-color);border:none;border-radius:8px;color:#fff;cursor:pointer;opacity:.5;pointer-events:none;transition:opacity .2s,background-color .2s}#upload-button.active{opacity:1;pointer-events:auto}#upload-button.active:hover{background-color:#7c3aed}#status-message{margin-top:16px;min-height:24px;font-size:14px}.status-success{color:#22c55e}.status-error{color:#ef4444}.nav-link{position:absolute;top:20px;left:20px;color:var(--text-secondary);text-decoration:none;font-size:14px}</style></head><body><a href="/frontend/index.html" class="nav-link">&larr; Back to Dashboard</a><div class="container"><h1>Upload Student Roster</h1><div id="drop-zone" class="upload-area"><input type="file" id="file-input" accept=".csv"><p>Drag & Drop CSV File Here or <strong>Click to Select</strong></p><p id="file-name"></p></div><button id="upload-button">Upload File</button><div id="status-message"></div><p style="font-size:12px;color:#9ca3af;margin-top:24px">Expected CSV columns: name, class, advisor, attendance, grade1, grade2, tuition_up_to_date (True/False)</p></div><script>const dropZone=document.getElementById("drop-zone"),fileInput=document.getElementById("file-input"),fileNameDisplay=document.getElementById("file-name"),uploadButton=document.getElementById("upload-button"),statusMessage=document.getElementById("status-message");let selectedFile=null;dropZone.addEventListener("click",()=>fileInput.click()),dropZone.addEventListener("dragover",e=>e.preventDefault()),dropZone.addEventListener("drop",e=>{e.preventDefault(),handleFile(e.dataTransfer.files[0])}),fileInput.addEventListener("change",()=>handleFile(fileInput.files[0]));function handleFile(e){e&&"text/csv"===e.type?(selectedFile=e,fileNameDisplay.textContent=e.name,uploadButton.classList.add("active"),statusMessage.textContent=""):(selectedFile=null,fileNameDisplay.textContent="",uploadButton.classList.remove("active"),statusMessage.textContent="Error: Please select a valid .csv file.",statusMessage.className="status-error")}uploadButton.addEventListener("click",async()=>{if(selectedFile){statusMessage.textContent="Uploading...",statusMessage.className="";const e=new FormData;e.append("file",selectedFile);try{const t=await fetch("http://127.0.0.1:5000/api/upload",{method:"POST",credentials:"include",body:e}),s=await t.json();if(t.ok)statusMessage.textContent=s.message,statusMessage.className="status-success",selectedFile=null,fileNameDisplay.textContent="",uploadButton.classList.remove("active");else throw new Error(s.error||"Upload failed.")}catch(e){statusMessage.textContent=`Error: ${e.message}`,statusMessage.className="status-error"}}});</script></body></html>